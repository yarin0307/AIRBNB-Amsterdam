<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <link href="StyleRegistaration.css" rel="stylesheet" />
    <title>Registeration</title>
    <script>
        function init() {
            if (localStorage["cgroup49"] != null) {
                cgroup49 = JSON.parse(localStorage["cgroup49"])
            }
            else {
                cgroup49 =
                {
                    users: [],
                    current_user: "",
                    current_apt: "",
                    check_in_date: "",
                    check_out_date: "",
                    reviews: {}


                }
            }

        }
        function create_user() {
            var f_name = document.getElementById("fname").value;
            var l_name = document.getElementById("lname").value;
            var u_name = document.getElementById("uname").value;
            var u_email = document.getElementById("email").value;
            var u_password = document.getElementById("password").value;
            var u_repassword = document.getElementById("confirm_password").value;
            if (u_password != u_repassword) {
                alert("password not matching");
                return;
            }
            for (var i = 0; i < cgroup49.users.length; i++) {
                if ((cgroup49.users[i].userName == u_name) || (cgroup49.users[i].userEmail == u_email)) {
                    alert("user already exist");
                    return;
                }

            }
            user = {
                firstName: f_name,
                lastName: l_name,
                userName: u_name,
                userEmail: u_email,
                userpassword: u_password,
                userorders: [],
                usersfavourites: []
            }
            cgroup49.users.push(user);
            localStorage["cgroup49"] = JSON.stringify(cgroup49);
            window.open("Login.html");
        }

    </script>
</head>
<body onload="init()">
    <div id="booking" class="section">
        <nav class="navbar navbar-expand-xl navbar-dark bg-dark">
            <a class="navbar-brand" href="MainPage.html"> Airbnb Amsterdam </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#colNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="colNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="MainPage.html">Home Page</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Registeration.html">Registeration</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="section-center">
            <div class="container-fluid">
                <div class="booking-form">
                    <form>
                        <div class="row">
                            <h1 id="title">Registeration</h1>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">First Name</span>
                                    <input class="form-control" id="fname" type="text" placeholder="Enter your first name" required>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">Last Name</span>
                                    <input class="form-control" id="lname" type="text" placeholder="Enter your last name" required>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">User Name</span>
                                    <input class="form-control" id="uname" type="text" placeholder="Enter your user name" required>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">Email</span>
                                    <input class="form-control" id="email" type="email" placeholder="Enter your email" required>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">Password</span>
                                    <input class="form-control" id="password" type="password" placeholder="Enter your password" required>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <span class="form-label">Confirm Password</span>
                                    <input class="form-control" id="confirm_password" type="password" placeholder="Enter your password again" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-btn">
                            <button id="register" class="submit-btn " onclick="create_user()">Register</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

</body>
</html>